<!--- This file is autogenerated from the files in docsgenerator/templates/configure-opsman --->
&larr; [back to Commands](../README.md)

# `om configure-opsman`

This authenticated command configures settings available on the "Settings" page
in the Ops Manager UI. For an example config, reference the docs directory for
this command.

## Command Usage
```
Usage:
  om [OPTIONS] configure-opsman [configure-opsman-OPTIONS]

This authenticated command configures settings available on the "Settings" page
in the Ops Manager UI. For an example config, reference the docs directory for
this command.

Application Options:
      --ca-cert=               OpsManager CA certificate path or value
                               [$OM_CA_CERT]
  -c, --client-id=             Client ID for the Ops Manager VM (not required
                               for unauthenticated commands) [$OM_CLIENT_ID]
  -s, --client-secret=         Client Secret for the Ops Manager VM (not
                               required for unauthenticated commands)
                               [$OM_CLIENT_SECRET]
  -o, --connect-timeout=       timeout in seconds to make TCP connections
                               (default: 10) [$OM_CONNECT_TIMEOUT]
  -d, --decryption-passphrase= Passphrase to decrypt the installation if the
                               Ops Manager VM has been rebooted (optional for
                               most commands) [$OM_DECRYPTION_PASSPHRASE]
  -e, --env=                   env file with login credentials
  -p, --password=              admin password for the Ops Manager VM (not
                               required for unauthenticated commands)
                               [$OM_PASSWORD]
  -r, --request-timeout=       timeout in seconds for HTTP requests to Ops
                               Manager (default: 1800) [$OM_REQUEST_TIMEOUT]
  -k, --skip-ssl-validation    skip ssl certificate validation during http
                               requests [$OM_SKIP_SSL_VALIDATION]
  -t, --target=                location of the Ops Manager VM [$OM_TARGET]
      --trace                  prints HTTP requests and response payloads
                               [$OM_TRACE]
  -u, --username=              admin username for the Ops Manager VM (not
                               required for unauthenticated commands)
                               [$OM_USERNAME]
      --vars-env=              load vars from environment variables by
                               specifying a prefix (e.g.: 'MY' to load
                               MY_var=value) [$OM_VARS_ENV]
  -v, --version                prints the om release version

Help Options:
  -h, --help                   Show this help message

[configure-opsman command options]
      -c, --config=            path to yml file containing all config fields
                               (see docs/configure-director/README.md for
                               format)
      -l, --vars-file=         load variables from a YAML file
          --vars-env=          load variables from environment variables (e.g.:
                               'MY' to load MY_var=value) [$OM_VARS_ENV]
      -v, --var=               load variable from the command line. Format:
                               VAR=VAL
          --ops-file=          YAML operations file
```

<!--- Anything in this file will be appended to the final docs/configure-opsman/README.md file --->
# Creating a Config File
Settings that can be set using this command include:

- SSL Certificate
- Pivotal Network Settings (pending)
- Custom Banner (pending)
- Syslog (pending)
- UAA tokens expiration
- Role Based Access Control (if enabled) (pending)

An example config file for updating settings 
on the Ops Manager Settings page (will update as more functionality is added):

```yaml
ssl-certificate:
  certificate: |
    -----BEGIN CERTIFICATE-----
    certificate
    -----END CERTIFICATE-----
  private_key:
    ----BEGIN RSA PRIVATE KEY-----
    private-key
    -----END RSA PRIVATE KEY-----
pivotal-network-settings:
  api_token: your-pivnet-token
banner-settings:
  ui_banner_contents: UI Banner Contents
  ssh_banner_contents: SSH Banner Contents
syslog-settings:
  enabled: true
  address: 1.2.3.4
  port: 999
  transport_protocol: tcp
  tls_enabled: true
  permitted_peer: "*.example.com"
  ssl_ca_certificate: |
    -----BEGIN CERTIFICATE-----
    certificate
    -----END CERTIFICATE-----
  queue_size: 100000
  forward_debug_logs: false
  custom_rsyslog_configuration: if $message contains 'test' then stop
tokens-expiration:
  access_token_expiration: 100
  refresh_token_expiration: 1200
  session_idle_timeout: 50
rbac-settings: # if your RBAC is SAML, use these settings
  rbac_saml_admin_group: example_group_name
  rbac_saml_groups_attribute: example_attribute_name
#rbac-settings: # if your RBAC is LDAP, replace the above
#  ldap_rbac_admin_group_name: cn=opsmgradmins,ou=groups,dc=mycompany,dc=com
opsman-configuration:
  aws:
    ...
```

Note that this config support the `opsman-configuration` top level key.
This allows for compatibility with the [Platform Automation Toolkit](https://docs.pivotal.io/platform-automation) product.
